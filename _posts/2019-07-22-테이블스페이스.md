---
title: "오라클 테이블 스페이스"
categories: 
  - Oracle 10g
last_modified_at: 2019-07-22T13:25:00+09:00
toc: true
---

# 테이블스페이스, 데이터파일, 컨트롤파일에 관하여... 

Oracle은 데이터를 저장하는 방법으로 논리적인 구조와 물리적인 구조의 방법이 있다. 
디스크에 데이터를 파일 형식으로 저장하는 물리적인 구조와
그 데이터파일을 읽어 오니 테이블스페이스 형태로 구성 되어 있었다는 논리적인 구조가 있다.
결과적으로, 물리적인 저장 구조와 논리적인 저장 구조는 연관되어 있다.
즉, 데이터파일과 테이블스페이스는 연관되어 있다.
하나의 데이터 베이스에는 한개 이상의 테이블스페이스가 존재 할 수 있고 
하나의 테이블스페이스에는 하나 이상의 데이터파일들로 구성 되어질 수 있다.

![Alt text](/assets/images/logical storage.gif "Datafiles and Tablespaces")

Oracle 데이터베이스는 하나 이상의 테이블스페이스라고 하는 논리적 저장 장치로 구성되며, 
모든 데이터베이스 데이터를 테이블스페이스 하나에 집합적으로 저장한다.

# Bigfile 테이블 스페이스

1. 오라클 데이터베이스를 다수의 작은 파일이 아닌 하나의 큰 파일로 구성된 테이블 스페이스를 구성 시킬 수 있다.
2. 64비트 시스템의 기능을 활용하여 초경량 파일을 생성하고 관리할 수 있다. 
- 즉, 오라클 데이터베이스를 최대 8EB까지 확장할 수 있게 되었다.

3. 사용자에게 데이터 파일을 완벽하고 명백하게 제공한다.
- 즉, 데이터 파일을 바탕으로 작업을 수행하지 않아도 테이블스페이스에서 작업을 수행할 수 있다.

4. 테이블스페이스를 디스크 공간 관리, 백업 및 복구 등의 주요 단위로 만든다. 
5. 새로운 데이터 파일을 추가하거나 여러 파일을 처리할 필요가 없어 오라클 관리 파일 및 자동 스토리지 관리를 통해 데이터 파일 관리를 단순화한다.
6. 자동 세그먼트 공간 관리를 통해 로컬로 관리되는 테이블 스페이스에만 지원된다.  
  6.1 두가지의 예외 경우가 있다
    6.1.1 로컬로 관리되는 실행 취소와 임시 테이블스페이스가 수동으로 관리되는 경우에도 Bigfile 데이터베이스가 될 수 있다.

Oracle 데이터베이스는 Bigfile 및 소규모 파일 테이블스페이스를 모두 포함할 수 있다. 
데이터 파일을 명시적으로 참조하지 않는SQL 문 실행 측면에서 다른 유형의 테이블스페이스를 구분할 수 없다.
오라클 데이터베이스는 bigfile 테이블 스페이스와 samllfile 테이블 스페이스 둘 다 포함 할 수 있습니다.
데이터 파일을 명시적으로 참조하지 않는 SQL 문 실행 측면에서 다른 유형의 테이블스페이스를 구분할 수 없다.
Tablespaces of different types are indistinguishable in terms of execution of SQL statements that do not explicitly refer to datafiles.

사용자가 여러 테이블스페이스에서 임시 공간을 사용할 수 있도록 하는 임시 테이블스페이스 그룹을 생성할 수 있다. 테이블스페이스 그룹은 데이터베이스의 기본 임시 테이블스페이스로 지정할 수도 있다. 이것은 당신이 많은 종류의 임시 테이블스페이스를 필요로 하는 큰 파일 테이블스페이스에서 유용하다.
You can create a group of temporary tablespaces that let a user consume temporary space from multiple tablespaces. A tablespace group can also be specified as the default temporary tablespace for the database. This is useful with bigfile tablespaces, where you could need a lot of temporary tablespace for sorts.

Benefits of Bigfile Tablespaces
Bigfile tablespaces can significantly increase the storage capacity of an Oracle database. Smallfile tablespaces can contain up to 1024 files, but bigfile tablespaces contain only one file that can be 1024 times larger than a smallfile tablespace. The total tablespace capacity is the same for smallfile tablespaces and bigfile tablespaces. However, because there is limit of 64K datafiles for each database, a database can contain 1024 times more bigfile tablespaces than smallfile tablespaces, so bigfile tablespaces increase the total database capacity by 3 orders of magnitude. In other words, 8 exabytes is the maximum size of the Oracle database when bigfile tablespaces are used with the maximum block size (32 k).

Bigfile tablespaces simplify management of datafiles in ultra large databases by reducing the number of datafiles needed. You can also adjust parameters to reduce the SGA space required for datafile information and the size of the control file.

They simplify database management by providing datafile transparency.

Considerations with Bigfile Tablespaces
Bigfile tablespaces are intended to be used with Automatic Storage Management or other logical volume managers that support dynamically extensible logical volumes and striping or RAID.

Avoid creating bigfile tablespaces on a system that does not support striping because of negative implications for parallel execution and RMAN backup parallelization.

Avoid using bigfile tablespaces if there could possibly be no free space available on a disk group, and the only way to extend a tablespace is to add a new datafile on a different disk group.

Using bigfile tablespaces on platforms that do not support large file sizes is not recommended and can limit tablespace capacity. Refer to your operating system specific documentation for information about maximum supported file sizes.

Performance of database opens, checkpoints, and DBWR processes should improve if data is stored in bigfile tablespaces instead of traditional tablespaces. However, increasing the datafile size might increase time to restore a corrupted file or create a new datafile.

See Also:

Oracle Database Administrator's Guide for details on creating, altering, and administering bigfile tablespaces
The SYSTEM Tablespace
Every Oracle database contains a tablespace named SYSTEM, which Oracle creates automatically when the database is created. The SYSTEM tablespace is always online when the database is open.

To take advantage of the benefits of locally managed tablespaces, you can create a locally managed SYSTEM tablespace, or you can migrate an existing dictionary managed SYSTEM tablespace to a locally managed format.

In a database with a locally managed SYSTEM tablespace, dictionary managed tablespaces cannot be created. It is possible to plug in a dictionary managed tablespace using the transportable feature, but it cannot be made writable.

Note:

If a tablespace is locally managed, then it cannot be reverted back to being dictionary managed.
The Data Dictionary
The SYSTEM tablespace always contains the data dictionary tables for the entire database. The data dictionary tables are stored in datafile 1.

PL/SQL Program Units Description
All data stored on behalf of stored PL/SQL program units (that is, procedures, functions, packages, and triggers) resides in the SYSTEM tablespace. If the database contains many of these program units, then the database administrator must provide the space the units need in the SYSTEM tablespace.

See Also:

Oracle Database Administrator's Guide for information about creating or migrating to a locally managed SYSTEM tablespace

"Online and Offline Tablespaces" for information about the permanent online condition of the SYSTEM tablespace

Chapter 24, "SQL, PL/SQL, and Java" and Chapter 22, "Triggers" for information about the space requirements of PL/SQL program units

The SYSAUX Tablespace
The SYSAUX tablespace is an auxiliary tablespace to the SYSTEM tablespace. Many database components use the SYSAUX tablespace as their default location to store data. Therefore, the SYSAUX tablespace is always created during database creation or database upgrade.

The SYSAUX tablespace provides a centralized location for database metadata that does not reside in the SYSTEM tablespace. It reduces the number of tablespaces created by default, both in the seed database and in user-defined databases.

During normal database operation, the Oracle database server does not allow the SYSAUX tablespace to be dropped or renamed. Transportable tablespaces for SYSAUX is not supported.

Note:

If the SYSAUX tablespace is unavailable, such as due to a media failure, then some database features might fail.
Undo Tablespaces
Undo tablespaces are special tablespaces used solely for storing undo information. You cannot create any other segment types (for example, tables or indexes) in undo tablespaces. Each database contains zero or more undo tablespaces. In automatic undo management mode, each Oracle instance is assigned one (and only one) undo tablespace. Undo data is managed within an undo tablespace using undo segments that are automatically created and maintained by Oracle.

When the first DML operation is run within a transaction, the transaction is bound (assigned) to an undo segment (and therefore to a transaction table) in the current undo tablespace. In rare circumstances, if the instance does not have a designated undo tablespace, the transaction binds to the system undo segment.

Caution:

Do not run any user transactions before creating the first undo tablespace and taking it online.
Each undo tablespace is composed of a set of undo files and is locally managed. Like other types of tablespaces, undo blocks are grouped in extents and the status of each extent is represented in the bitmap. At any point in time, an extent is either allocated to (and used by) a transaction table, or it is free.

You can create a bigfile undo tablespace.

See Also:

"Bigfile Tablespaces"
Creation of Undo Tablespaces
A database administrator creates undo tablespaces individually, using the CREATE UNDO TABLESPACE statement. It can also be created when the database is created, using the CREATE DATABASE statement. A set of files is assigned to each newly created undo tablespace. Like regular tablespaces, attributes of undo tablespaces can be modified with the ALTER TABLESPACE statement and dropped with the DROP TABLESPACE statement.

Note:

An undo tablespace cannot be dropped if it is being used by any instance or contains any undo information needed to recover transactions.
Assignment of Undo Tablespaces
You assign an undo tablespace to an instance in one of two ways:

At instance startup. You can specify the undo tablespace in the initialization file or let the system choose an available undo tablespace.

While the instance is running. Use ALTER SYSTEM SET UNDO_TABLESPACE to replace the active undo tablespace with another undo tablespace. This method is rarely used.

You can add more space to an undo tablespace by adding more datafiles to the undo tablespace with the ALTER TABLESPACE statement.

You can have more than one undo tablespace and switch between them. Use the Database Resource Manager to establish user quotas for undo tablespaces. You can specify the retention period for undo information.

See Also:

Oracle Database Administrator's Guide for detailed information about creating and managing undo tablespaces
Default Temporary Tablespace
When the SYSTEM tablespace is locally managed, you must define at least one default temporary tablespace when creating a database. A locally managed SYSTEM tablespace cannot be used for default temporary storage.

If SYSTEM is dictionary managed and if you do not define a default temporary tablespace when creating the database, then SYSTEM is still used for default temporary storage. However, you will receive a warning in ALERT.LOG saying that a default temporary tablespace is recommended and will be necessary in future releases.

How to Specify a Default Temporary Tablespace
Specify default temporary tablespaces when you create a database, using the DEFAULT TEMPORARY TABLESPACE extension to the CREATE DATABASE statement.

If you drop all default temporary tablespaces, then the SYSTEM tablespace is used as the default temporary tablespace.

You can create bigfile temporary tablespaces. A bigfile temporary tablespaces uses tempfiles instead of datafiles.

Note:

You cannot make a default temporary tablespace permanent or take it offline.
See Also:

Oracle Database SQL Reference for information about defining and altering default temporary tablespaces

"Bigfile Tablespaces"

Using Multiple Tablespaces
A very small database may need only the SYSTEM tablespace; however, Oracle recommends that you create at least one additional tablespace to store user data separate from data dictionary information. This gives you more flexibility in various database administration operations and reduces contention among dictionary objects and schema objects for the same datafiles.

You can use multiple tablespaces to perform the following tasks:

Control disk space allocation for database data

Assign specific space quotas for database users

Control availability of data by taking individual tablespaces online or offline

Perform partial database backup or recovery operations

Allocate data storage across devices to improve performance

A database administrator can use tablespaces to do the following actions:

Create new tablespaces

Add datafiles to tablespaces

Set and alter default segment storage settings for segments created in a tablespace

Make a tablespace read only or read/write

Make a tablespace temporary or permanent

Rename tablespaces

Drop tablespaces

Managing Space in Tablespaces
Tablespaces allocate space in extents. Tablespaces can use two different methods to keep track of their free and used space:

Locally managed tablespaces: Extent management by the tablespace

Dictionary managed tablespaces: Extent management by the data dictionary

When you create a tablespace, you choose one of these methods of space management. Later, you can change the management method with the DBMS_SPACE_ADMIN PL/SQL package.

Note:

If you do not specify extent management when you create a tablespace, then the default is locally managed.
See Also:

"Overview of Extents"
Locally Managed Tablespaces
A tablespace that manages its own extents maintains a bitmap in each datafile to keep track of the free or used status of blocks in that datafile. Each bit in the bitmap corresponds to a block or a group of blocks. When an extent is allocated or freed for reuse, Oracle changes the bitmap values to show the new status of the blocks. These changes do not generate rollback information because they do not update tables in the data dictionary (except for special cases such as tablespace quota information).

Locally managed tablespaces have the following advantages over dictionary managed tablespaces:

Local management of extents automatically tracks adjacent free space, eliminating the need to coalesce free extents.

Local management of extents avoids recursive space management operations. Such recursive operations can occur in dictionary managed tablespaces if consuming or releasing space in an extent results in another operation that consumes or releases space in a data dictionary table or rollback segment.

The sizes of extents that are managed locally can be determined automatically by the system. Alternatively, all extents can have the same size in a locally managed tablespace and override object storage options.

The LOCAL clause of the CREATE TABLESPACE or CREATE TEMPORARY TABLESPACE statement is specified to create locally managed permanent or temporary tablespaces, respectively.

Segment Space Management in Locally Managed Tablespaces
When you create a locally managed tablespace using the CREATE TABLESPACE statement, the SEGMENT SPACE MANAGEMENT clause lets you specify how free and used space within a segment is to be managed. Your choices are:

AUTO

This keyword tells Oracle that you want to use bitmaps to manage the free space within segments. A bitmap, in this case, is a map that describes the status of each data block within a segment with respect to the amount of space in the block available for inserting rows. As more or less space becomes available in a data block, its new state is reflected in the bitmap. Bitmaps enable Oracle to manage free space more automatically; thus, this form of space management is called automatic segment-space management.

Locally managed tablespaces using automatic segment-space management can be created as smallfile (traditional) or bigfile tablespaces. AUTO is the default.

MANUAL

This keyword tells Oracle that you want to use free lists for managing free space within segments. Free lists are lists of data blocks that have space available for inserting rows.

See Also:

Oracle Database SQL Reference for syntax

Oracle Database Administrator's Guide for more information about automatic segment space management

"Determine the Number and Size of Extents"

"Temporary Tablespaces for Sort Operations" for more information about temporary tablespaces

Dictionary Managed Tablespaces
If you created your database with an earlier version of Oracle, then you could be using dictionary managed tablespaces. For a tablespace that uses the data dictionary to manage its extents, Oracle updates the appropriate tables in the data dictionary whenever an extent is allocated or freed for reuse. Oracle also stores rollback information about each update of the dictionary tables. Because dictionary tables and rollback segments are part of the database, the space that they occupy is subject to the same space management operations as all other data.

Multiple Block Sizes
Oracle supports multiple block sizes in a database. The standard block size is used for the SYSTEM tablespace. This is set when the database is created and can be any valid size. You specify the standard block size by setting the initialization parameter DB_BLOCK_SIZE. Legitimate values are from 2K to 32K.

In the initialization parameter file or server parameter, you can configure subcaches within the buffer cache for each of these block sizes. Subcaches can also be configured while an instance is running. You can create tablespaces having any of these block sizes. The standard block size is used for the system tablespace and most other tablespaces.

Note:

All partitions of a partitioned object must reside in tablespaces of a single block size.
Multiple block sizes are useful primarily when transporting a tablespace from an OLTP database to an enterprise data warehouse. This facilitates transport between databases of different block sizes.

See Also:

"Size of the Database Buffer Cache"

"Transport of Tablespaces Between Databases"

Oracle Database Data Warehousing Guide for information about transporting tablespaces in data warehousing environments

Online and Offline Tablespaces
A database administrator can bring any tablespace other than the SYSTEM tablespace online (accessible) or offline (not accessible) whenever the database is open. The SYSTEM tablespace is always online when the database is open because the data dictionary must always be available to Oracle.

A tablespace is usually online so that the data contained within it is available to database users. However, the database administrator can take a tablespace offline for maintenance or backup and recovery purposes.

Bringing Tablespaces Offline
When a tablespace goes offline, Oracle does not permit any subsequent SQL statements to reference objects contained in that tablespace. Active transactions with completed statements that refer to data in that tablespace are not affected at the transaction level. Oracle saves rollback data corresponding to those completed statements in a deferred rollback segment in the SYSTEM tablespace. When the tablespace is brought back online, Oracle applies the rollback data to the tablespace, if needed.

When a tablespace goes offline or comes back online, this is recorded in the data dictionary in the SYSTEM tablespace. If a tablespace is offline when you shut down a database, the tablespace remains offline when the database is subsequently mounted and reopened.

You can bring a tablespace online only in the database in which it was created because the necessary data dictionary information is maintained in the SYSTEM tablespace of that database. An offline tablespace cannot be read or edited by any utility other than Oracle. Thus, offline tablespaces cannot be transposed to other databases.

Oracle automatically switches a tablespace from online to offline when certain errors are encountered. For example, Oracle switches a tablespace from online to offline when the database writer process, DBWn, fails in several attempts to write to a datafile of the tablespace. Users trying to access tables in the offline tablespace receive an error. If the problem that causes this disk I/O to fail is media failure, you must recover the tablespace after you correct the problem.

See Also:

"Temporary Tablespaces for Sort Operations" for more information about transferring online tablespaces between databases

Oracle Database Utilities for more information about tools for data transfer

Use of Tablespaces for Special Procedures
If you create multiple tablespaces to separate different types of data, you take specific tablespaces offline for various procedures. Other tablespaces remain online, and the information in them is still available for use. However, special circumstances can occur when tablespaces are taken offline. For example, if two tablespaces are used to separate table data from index data, the following is true:

If the tablespace containing the indexes is offline, then queries can still access table data because queries do not require an index to access the table data.

If the tablespace containing the tables is offline, then the table data in the database is not accessible because the tables are required to access the data.

If Oracle has enough information in the online tablespaces to run a statement, it does so. If it needs data in an offline tablespace, then it causes the statement to fail.

Read-Only Tablespaces
The primary purpose of read-only tablespaces is to eliminate the need to perform backup and recovery of large, static portions of a database. Oracle never updates the files of a read-only tablespace, and therefore the files can reside on read-only media such as CD-ROMs or WORM drives.

Note:

Because you can only bring a tablespace online in the database in which it was created, read-only tablespaces are not meant to satisfy archiving requirements.
Read-only tablespaces cannot be modified. To update a read-only tablespace, first make the tablespace read/write. After updating the tablespace, you can then reset it to be read only.

Because read-only tablespaces cannot be modified, and as long as they have not been made read/write at any point, they do not need repeated backup. Also, if you need to recover your database, you do not need to recover any read-only tablespaces, because they could not have been modified.

See Also:

Oracle Database Administrator's Guide for information about changing a tablespace to read only or read/write mode

Oracle Database SQL Reference for more information about the ALTER TABLESPACE statement

Oracle Database Backup and Recovery Advanced User's Guide for more information about recovery

Temporary Tablespaces for Sort Operations
You can manage space for sort operations more efficiently by designating one or more temporary tablespaces exclusively for sorts. Doing so effectively eliminates serialization of space management operations involved in the allocation and deallocation of sort space. A single SQL operation can use more than one temporary tablespace for sorting. For example, you can create indexes on very large tables, and the sort operation during index creation can be distributed across multiple tablespaces.

All operations that use sorts, including joins, index builds, ordering, computing aggregates (GROUP BY), and collecting optimizer statistics, benefit from temporary tablespaces. The performance gains are significant with Real Application Clusters.

Sort Segments
One or more temporary tablespaces can be used only for sort segments. A temporary tablespace is not the same as a tablespace that a user designates for temporary segments, which can be any tablespace available to the user. No permanent schema objects can reside in a temporary tablespace.

Sort segments are used when a segment is shared by multiple sort operations. One sort segment exists for every instance that performs a sort operation in a given tablespace.

Temporary tablespaces provide performance improvements when you have multiple sorts that are too large to fit into memory. The sort segment of a given temporary tablespace is created at the time of the first sort operation. The sort segment expands by allocating extents until the segment size is equal to or greater than the total storage demands of all of the active sorts running on that instance.

See Also:

Chapter 2, "Data Blocks, Extents, and Segments" for more information about segments
Creation of Temporary Tablespaces
Create temporary tablespaces by using the CREATE TABLESPACE or CREATE TEMPORARY TABLESPACE statement.

See Also:

"Temporary Datafiles" for information about TEMPFILES

"Managing Space in Tablespaces" for information about locally managed and dictionary managed tablespaces

Oracle Database SQL Reference for syntax

Oracle Database Performance Tuning Guide for information about setting up temporary tablespaces for sorts and hash joins

Transport of Tablespaces Between Databases
A transportable tablespace lets you move a subset of an Oracle database from one Oracle database to another, even across different platforms. You can clone a tablespace and plug it into another database, copying the tablespace between databases, or you can unplug a tablespace from one Oracle database and plug it into another Oracle database, moving the tablespace between databases.

Moving data by transporting tablespaces can be orders of magnitude faster than either export/import or unload/load of the same data, because transporting a tablespace involves only copying datafiles and integrating the tablespace metadata. When you transport tablespaces you can also move index data, so you do not have to rebuild the indexes after importing or loading the table data.

You can transport tablespaces across platforms. (Many, but not all, platforms are supported for cross-platform tablespace transport.) This can be used for the following:

Provide an easier and more efficient means for content providers to publish structured data and distribute it to customers running Oracle on a different platform

Simplify the distribution of data from a data warehouse environment to data marts which are often running on smaller platforms

Enable the sharing of read only tablespaces across a heterogeneous cluster

Allow a database to be migrated from one platform to another

Tablespace Repository
A tablespace repository is a collection of tablespace sets. Tablespace repositories are built on file group repositories, but tablespace repositories only contain the files required to move or copy tablespaces between databases. Different tablespace sets may be stored in a tablespace repository, and different versions of a particular tablespace set also may be stored. A version of a tablespace set in a tablespace repository consists of the following files:

The Data Pump export dump file for the tablespace set

The Data Pump log file for the export

The datafiles that comprise the tablespace set

See Also:

Oracle Streams Concepts and Administration
How to Move or Copy a Tablespace to Another Database
To move or copy a set of tablespaces, you must make the tablespaces read only, copy the datafiles of these tablespaces, and use export/import to move the database information (metadata) stored in the data dictionary. Both the datafiles and the metadata export file must be copied to the target database. The transport of these files can be done using any facility for copying flat files, such as the operating system copying facility, ftp, or publishing on CDs.

After copying the datafiles and importing the metadata, you can optionally put the tablespaces in read/write mode.

The first time a tablespace's datafiles are opened under Oracle Database with the COMPATIBLE initialization parameter set to 10 or higher, each file identifies the platform to which it belongs. These files have identical on disk formats for file header blocks, which are used for file identification and verification. Read only and offline files get the compatibility advanced after they are made read/write or are brought online. This implies that tablespaces that are read only prior to Oracle Database 10g must be made read/write at least once before they can use the cross platform transportable feature.

Note:

In a database with a locally managed SYSTEM tablespace, dictionary tablespaces cannot be created. It is possible to plug in a dictionary managed tablespace using the transportable feature, but it cannot be made writable.
See Also:

Oracle Database Administrator's Guide for details about how to move or copy tablespaces to another database, including details about transporting tablespaces across platforms

Oracle Database Utilities for import/export information

Oracle Database PL/SQL Packages and Types Reference for information on the DBMS_FILE_TRANSFER package

Oracle Streams Concepts and Administration for more information on ways to copy or transport files

Overview of Datafiles
A tablespace in an Oracle database consists of one or more physical datafiles. A datafile can be associated with only one tablespace and only one database.

Oracle creates a datafile for a tablespace by allocating the specified amount of disk space plus the overhead required for the file header. When a datafile is created, the operating system under which Oracle runs is responsible for clearing old information and authorizations from a file before allocating it to Oracle. If the file is large, this process can take a significant amount of time. The first tablespace in any database is always the SYSTEM tablespace, so Oracle automatically allocates the first datafiles of any database for the SYSTEM tablespace during database creation.

See Also:

Your Oracle operating system-specific documentation for information about the amount of space required for the file header of datafiles on your operating system
Datafile Contents
When a datafile is first created, the allocated disk space is formatted but does not contain any user data. However, Oracle reserves the space to hold the data for future segments of the associated tablespace—it is used exclusively by Oracle. As the data grows in a tablespace, Oracle uses the free space in the associated datafiles to allocate extents for the segment.

The data associated with schema objects in a tablespace is physically stored in one or more of the datafiles that constitute the tablespace. Note that a schema object does not correspond to a specific datafile; rather, a datafile is a repository for the data of any schema object within a specific tablespace. Oracle allocates space for the data associated with a schema object in one or more datafiles of a tablespace. Therefore, a schema object can span one or more datafiles. Unless table striping is used (where data is spread across more than one disk), the database administrator and end users cannot control which datafile stores a schema object.

See Also:

Chapter 2, "Data Blocks, Extents, and Segments" for more information about use of space
Size of Datafiles
You can alter the size of a datafile after its creation or you can specify that a datafile should dynamically grow as schema objects in the tablespace grow. This functionality enables you to have fewer datafiles for each tablespace and can simplify administration of datafiles.

Note:

You need sufficient space on the operating system for expansion.
See Also:

Oracle Database Administrator's Guide for more information about resizing datafiles
Offline Datafiles
You can take tablespaces offline or bring them online at any time, except for the SYSTEM tablespace. All of the datafiles of a tablespace are taken offline or brought online as a unit when you take the tablespace offline or bring it online, respectively.

You can take individual datafiles offline. However, this is usually done only during some database recovery procedures.

Temporary Datafiles
Locally managed temporary tablespaces have temporary datafiles (tempfiles), which are similar to ordinary datafiles, with the following exceptions:

Tempfiles are always set to NOLOGGING mode.

You cannot make a tempfile read only.

You cannot create a tempfile with the ALTER DATABASE statement.

Media recovery does not recognize tempfiles:

BACKUP CONTROLFILE does not generate any information for tempfiles.

CREATE CONTROLFILE cannot specify any information about tempfiles.

When you create or resize tempfiles, they are not always guaranteed allocation of disk space for the file size specified. On certain file systems (for example, UNIX) disk blocks are allocated not at file creation or resizing, but before the blocks are accessed.

Caution:

This enables fast tempfile creation and resizing; however, the disk could run of space later when the tempfiles are accessed.
Tempfile information is shown in the dictionary view DBA_TEMP_FILES and the dynamic performance view V$TEMPFILE, but not in DBA_DATA_FILES or the V$DATAFILE view.

See Also:

"Managing Space in Tablespaces" for more information about locally managed tablespaces
Overview of Control Files
The database control file is a small binary file necessary for the database to start and operate successfully. A control file is updated continuously by Oracle during database use, so it must be available for writing whenever the database is open. If for some reason the control file is not accessible, then the database cannot function properly.

Each control file is associated with only one Oracle database.

Control File Contents
A control file contains information about the associated database that is required for access by an instance, both at startup and during normal operation. Control file information can be modified only by Oracle; no database administrator or user can edit a control file.

Among other things, a control file contains information such as:

The database name

The timestamp of database creation

The names and locations of associated datafiles and redo log files

Tablespace information

Datafile offline ranges

The log history

Archived log information

Backup set and backup piece information

Backup datafile and redo log information

Datafile copy information

The current log sequence number

Checkpoint information

The database name and timestamp originate at database creation. The database name is taken from either the name specified by the DB_NAME initialization parameter or the name used in the CREATE DATABASE statement.

Each time that a datafile or a redo log file is added to, renamed in, or dropped from the database, the control file is updated to reflect this physical structure change. These changes are recorded so that:

Oracle can identify the datafiles and redo log files to open during database startup

Oracle can identify files that are required or available in case database recovery is necessary

Therefore, if you make a change to the physical structure of your database (using ALTER DATABASE statements), then you should immediately make a backup of your control file.

Control files also record information about checkpoints. Every three seconds, the checkpoint process (CKPT) records information in the control file about the checkpoint position in the redo log. This information is used during database recovery to tell Oracle that all redo entries recorded before this point in the redo log group are not necessary for database recovery; they were already written to the datafiles.

See Also:

Oracle Database Backup and Recovery Advanced User's Guide for information about backing up a database's control file
Multiplexed Control Files
As with redo log files, Oracle enables multiple, identical control files to be open concurrently and written for the same database. By storing multiple control files for a single database on different disks, you can safeguard against a single point of failure with respect to control files. If a single disk that contained a control file crashes, then the current instance fails when Oracle attempts to access the damaged control file. However, when other copies of the current control file are available on different disks, an instance can be restarted without the need for database recovery.

If all control files of a database are permanently lost during operation, then the instance is aborted and media recovery is required. Media recovery is not straightforward if an older backup of a control file must be used because a current copy is not available. It is strongly recommended that you adhere to the following:

Use multiplexed control files with each database

Store each copy on a different physical disk

Use operating system mirroring

Monitor backups



# SYSTEM 테이블 스페이스

1. 데이터 딕셔너리들이 저장되어 있다.
  - > 데이터 딕셔너리란?
    * 딕셔너리에 존재하는 정보들을 참고해서 오라클이 운영된다.
    * 크게 Base Table과 Data Dictionary View로 나뉜다.
    * Base Table은 데이터베이스를 생성할 때 생성된다.
    * Base Table은 접근이 불가하여 Data Dictionary View로 내용을 조회 할 수 있다.
    * 딕셔너리의 주요 내용의 정보들
  - 데이터베이스의 논리적인 구조와 물리적인 구조 정보들
  - 객체의 정의와 공간 사용 정보들
  - 제약조건에 관련된 정보들
  - 사용자에 관련된 정보들
  - Role, Privilege 등에 관련된 정보들
  - 감사 및 보안등에 관련된 정보들
2. 손상될 경우 Oracle 서버가 시작이 안된다.
3. Data Dictionary Views는 크게 Static Dictionary와 Dinamic Dictionary로 나뉠 수 있다.
  - Static Dictionary에는 저장된 정보들(DML)문이 자동으로 변경 되지 않아 Analyze 명령어나 DBMS_SSTATS 패키지를 사용한다.
4. 스태틱 딕셔너리의 종류
 - 1. USER_XXX    : 해당 사용자가 생성한 내용만 볼 수 있다.
   *  USER_TABLES : 해당 사용자가 생성한 테이블만 볼 수 있는 딕셔너리다.
   *  USER_INDEXS : 해당 사용자가 생성한 익덱스만 볼 수 있는 딕셔너리다. 
 - 2. ALL_XXX     : 해당 사용자가 생성한 것과 생성하지 않았더라도 접근이 가능한 내용을 볼 수 있다.
   *  ALL_TABLES  : 접근 가능한 모든 테이블 내역을 볼 수 있는 딕셔너리다.
   *  ALL_INDEXS  : 접근 가능한 모든 인덱스 내역을 볼 수 있는 딕셔너리다.
 - 3. DBA_XXX     : 데이터베이스에 생성되어 있는 모든 내용을 볼 수 있는 딕셔너리다. DBA 권한을 가지고 있는 사용자만 조회 가능 하다.
   *  DBA_TABLES  : 데이터베이스에 있는 모든 테이블 내역을 볼 수 있는 딕셔너리다.
   *  DBA_INDEXEX : 데이터베이스에 있는 모든 인덱스 내역을 볼 수 있는 딕셔너리다.
5. 다이나믹 딕셔너리의 종류
 - 1. v$로 시작된다.
 - 1.1 스태틱 딕셔너리의 Iinstancce가 open일 경우에만 조회된다.
 - Nomount 상태부터 조회된다.  



 # SYSAUX 테이블 스페이스
 - 1. 10g 이후로 등장한 Tablespace다.
 - 2. Oracle 서버의 성능 튜닝을 위한 데이터들이 저장되어 있다.
 - 3. 자동 튜닝 기능들(AWR, ADDM, ASH 등) 이 SYSAUX 테이블 스페이스의 정보를 사용하게 된다.


 # 일반 테이블 스페이스
 - 1. 가장 일반적으로 많이 사용되는 테이블 스페이스다
 - 2. 관리자가 필요에 의해서 만들어 진다.
 - 3. 얼마든지 만들 수도 얼마든지 삭제할 수 있다.