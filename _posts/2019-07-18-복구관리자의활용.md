---
title: "복구 관리자의 활용"
categories: 
  - Oracle
last_modified_at: 2019-07-18T13:00:00+09:00
toc: true
---

# 복구 관리자의 활용 
1.	증분 백업 알고리즘
- 1.1	증분 백업 동안 RMAN이 각 데이터 블록의 SCN을 읽어 이전 증분 백업의 SCN 정보와 비교
- 1.2	SCN이 늦은 블록만 백업
- 1.3	블록 변경 추적이 활성화 된 경우, RMAN은 전체 데이터파일의 내용을 스캐닝 하는 대신 변경 추적 파일을 통해 데이터파일 내의 변경 블록을 식별하므로 증분 백업의 속도가 향상됨
2.	증분 백업 레벨
- 2.1	10g 이후로 0,1 두 가지 레벨을 제공
- 2.2	레벨 0 증분 백업은 모든 블록을 백업 (==풀 백업), 향후 증분 백업의 기초가 됨
- 2.3	수행 결과는 동일하지만, 전체 백업은 증분 백업의 전략에 포함 될 수 없음
- 2.4   레벨1 증분 백업의 두 가지 유형 (가장 최근의 누적 또는 증분 백업 이후 변경된 모든 블록을 백업)
    - 2.4.1   차등 백업:  가장 최근의 레벨 0,1 증분 백업 이후 변경된 모든 블록을 백업
    - 2.4.2   누적 백업:  가장 최근의 레벨 0 증분 백업 이후 변경된 모든 블록을 백업
- 2.5   기본 증분 백업은 차등 백업
- 2.6   변경된 블록의 수와 레벨에 따라 증분 백업의 파일 크기가 달라짐
- 2.7    증분 백업된 블록이 전체 데이터 파일 블록의 50% 이상인 파

```````````````js
`
`
`
```````````````

# RMAN 저장소와 백업의 정보 확인
1. RMAN의 LIST, REPORT 명령을 이용하여 이용 가능한 백업과 복원, 복구 수행 방법 확인 가능

2. v$ 뷰를 이용하여 컨트롤 파일 내의 RMAN 저장소를 질의

3. 복구 카탈로그 사용시 RC_ 뷰에 관련 v$ 뷰의


* LIST
> 기본적으로 어떤 백업이 유효한지 보여줌
    - 데이터베이스, 테이블스페이스, 데이터파일, 아카이브 리두 로그, 컨트롤파일에 대한 백업 및 이미지 복사본
    - 파기된(EXPIRED) 백업

> v$BACKUP_FILES 뷰에서도 같은 정보를 확인 가능

> LIST BACKUP;   → 모든 백업 



# 백업 및 데이터베이스 스키마 보고
1. RMAN> REPORT ...;
 - 백업이 필요한 파일은?
 - 복구가 불가능한 파일은?
